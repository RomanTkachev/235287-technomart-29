let mapImage=document.querySelector(".map"),mapPopup=document.querySelector(".modal-map"),mapClose=document.querySelector(".map-close");mapImage.onclick=function(){mapPopup.classList.add("modal-show")},mapClose.addEventListener("click",function(){mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show")});let writeUsButton=document.querySelector(".write-us-button"),writeUsPopup=document.querySelector(".modal-write-us"),writeUsClose=document.querySelector(".write-us-close"),writeUsForm=document.querySelector(".request-form"),writeUsName=document.getElementById("request-name"),writeUsEmail=document.getElementById("request-email"),writeUsText=document.getElementById("request-text"),isStorageSupport=!0,storage="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}writeUsButton.addEventListener("click",function(e){e.preventDefault(),writeUsPopup.classList.add("modal-show"),isStorageSupport?(writeUsName.value=storageName,writeUsEmail.value=storageEmail,writeUsText.focus()):writeUsName.focus()}),writeUsClose.addEventListener("click",function(e){e.preventDefault(),writeUsPopup.classList.remove("modal-show"),writeUsPopup.classList.remove("modal-error")}),writeUsForm.addEventListener("submit",function(e){writeUsName.value&&writeUsEmail.value&&writeUsText.value?isStorageSupport&&(localStorage.setItem("name",writeUsName.value),localStorage.setItem("email",writeUsEmail.value)):(e.preventDefault(),writeUsPopup.classList.remove("modal-error"),writeUsPopup.offsetWidth=writeUsPopup.offsetWidth,writeUsPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&writeUsPopup.classList.contains("modal-show")&&(e.preventDefault(),writeUsPopup.classList.remove("modal-show"),writeUsPopup.classList.remove("modal-error"))});let buttonsBuy=document.querySelectorAll(".button-buy"),cartPopup=document.querySelector(".modal-cart"),cartClose=document.querySelector(".cart-close"),modalButtons=document.querySelectorAll(".modal-button"),cartCounter=document.querySelector(".cart-counter"),cart=document.querySelector(".cart"),i=0;for(let e of buttonsBuy)e.onclick=function(){if(cartPopup.classList.add("modal-show"),i<1){let e=parseInt(cartCounter.innerText);e++,cartCounter.innerText=e,cart.classList.add("cart-full"),i++}};cartClose.addEventListener("click",function(){cartPopup.classList.remove("modal-show"),i--}),modalButtons[1].addEventListener("click",function(){cartPopup.classList.contains("modal-show")&&(cartPopup.classList.remove("modal-show"),i--)}),window.addEventListener("keydown",function(e){27===e.keyCode&&cartPopup.classList.contains("modal-show")&&(cartPopup.classList.remove("modal-show"),i--)});let buttonsMark=document.querySelectorAll(".button-mark"),markCounter=document.querySelector(".bookmark-counter"),bookmark=document.querySelector(".bookmarks");for(let e of buttonsMark)e.onclick=function(){let e=parseInt(markCounter.innerText);e++,markCounter.innerText=e,bookmark.classList.add("cart-full")};let slides=document.querySelectorAll(".slider-item"),slidesButtonLeft=document.querySelector(".left"),slidesButtonRight=document.querySelector(".right");slidesButtonLeft.onclick=function(){slides[0].classList.toggle("slider-hidden"),slides[1].classList.toggle("slider-hidden")},slidesButtonRight.onclick=function(){slides[0].classList.toggle("slider-hidden"),slides[1].classList.toggle("slider-hidden")};let featureSliderbuttons=document.querySelectorAll(".features-button"),features=document.querySelectorAll(".features-item");featureSliderbuttons[0].addEventListener("click",function(e){e.preventDefault(),featureSliderbuttons[2].classList.remove("feature-button-active"),featureSliderbuttons[1].classList.remove("feature-button-active"),featureSliderbuttons[0].classList.add("feature-button-active"),features[1].classList.remove("feature-active"),features[2].classList.remove("feature-active"),features[0].classList.add("feature-active")}),featureSliderbuttons[1].addEventListener("click",function(e){e.preventDefault(),featureSliderbuttons[0].classList.remove("feature-button-active"),featureSliderbuttons[2].classList.remove("feature-button-active"),featureSliderbuttons[1].classList.add("feature-button-active"),features[0].classList.remove("feature-active"),features[2].classList.remove("feature-active"),features[1].classList.add("feature-active")}),featureSliderbuttons[2].addEventListener("click",function(e){e.preventDefault(),featureSliderbuttons[0].classList.remove("feature-button-active"),featureSliderbuttons[1].classList.remove("feature-button-active"),featureSliderbuttons[2].classList.add("feature-button-active"),features[1].classList.remove("feature-active"),features[0].classList.remove("feature-active"),features[2].classList.add("feature-active")});